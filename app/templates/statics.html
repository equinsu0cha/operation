<div class="row" style="margin-top: -1px">
    <div class="tpl-portlet-components" ng-controller="svrStaticsControl" id="server_statics">
        <div class="portlet-title">
            <div class="caption font-green bold">
                <span ng-click="svrShowDetail = !svrShowDetail;" style="cursor: pointer">状态信息 - 服务器 <i ng-class="{true: 'am-icon-angle-double-up am-icon-sm', false: 'am-icon-angle-double-down am-icon-sm'}[svrShowDetail]"></i></span>
            </div>
            <div class="font-green bold am-fr">
                <span class="am-icon-refresh" ng-show="!checking" ng-click="checkSvrStatics()" style="cursor: pointer"></span>
                <span class="am-icon-refresh am-icon-spin" ng-show="checking"></span>
            </div>
        </div>
        <div class="tpl-block" ng-show="svrShowDetail">
            <div class="am-g">
                <div class="am-u-sm-12">
                    <table class="am-table am-table-hover table-main" id="drop-down-test">
                        <thead>
                            <tr>
                                <th>服务器</th>
                                <th>启动时间</th>
                                <th>CPU空闲</th>
                                <th>内存使用率</th>
                                <th>SWAP使用率</th>
                                <th>挂载点</th>
                                <th>使用率</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in serverStatics">
                                <td class="table-data" style="max-width: 120px">{{::data.server}}</td>
                                <td class="table-data" style="max-width: 120px">{{data.uptime}}</td>
                                <td class="table-data">
                                    <div class="am-dropdown" style="cursor: pointer" ng-mouseover="showCPUDetail = true" ng-mouseleave="showCPUDetail = false" data-am-dropdown="{boundary: '#drop-down-test'}">
                                        {{data.cpu[0].idle | percent}}
                                        <div class=" am-dropdown-content" ng-show="showCPUDetail" style="display: block;margin-top: 0;">
                                            <table class="am-table am-text-nowrap am-table-compact">
                                                <thead>
                                                    <th>IO Wait</th>
                                                    <th>IRQ</th>
                                                    <th>USER</th>
                                                    <th>SYS</th>
                                                    <th>IDLE</th>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>{{data.cpu[0].iowait | percent}}</td>
                                                        <td>{{data.cpu[0].irq | percent}}</td>
                                                        <td>{{data.cpu[0].usr | percent}}</td>
                                                        <td>{{data.cpu[0].sys | percent}}</td>
                                                        <td>{{data.cpu[0].idle | percent}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </td>
                                <td class="table-data">
                                    <div class="am-dropdown" style="cursor: pointer" ng-mouseover="showMemDetail = true" ng-mouseleave="showMemDetail = false">
                                        {{(data.memory[0].total - data.memory[0].free) / data.memory[0].total * 100 | percent}}
                                        <div class="am-dropdown-content" ng-show="showMemDetail" style="display: block;margin-top: 0;">
                                            <table class="am-table am-text-nowrap am-table-compact">
                                                <thead>
                                                    <th>TOTAL</th>
                                                    <th>FREE</th>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>{{data.memory[0].total | KB2}}</td>
                                                        <td>{{data.memory[0].free | KB2}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </td>
                                <td class="table-data">
                                    <div class="am-dropdown" style="cursor: pointer" ng-mouseover="showSwapDetail = true" ng-mouseleave="showSwapDetail = false">
                                        {{(data.swap[0].total - data.swap[0].free) / data.swap[0].total * 100 | percent}}
                                        <div class="am-dropdown-content" ng-show="showSwapDetail" style="display: block;margin-top: 0;">
                                            <table class="am-table am-text-nowrap am-table-compact">
                                                <thead>
                                                    <th>TOTAL</th>
                                                    <th>FREE</th>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>{{data.swap[0].total | KB2}}</td>
                                                        <td>{{data.swap[0].free | KB2}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </td>
                                <td class="table-data">
                                    <ul>
                                        <li ng-repeat="disk in data.disks">
                                            <span>{{disk.mount}}</span>
                                        </li>
                                    </ul>
                                </td>
                                <td class="table-status">
                                    <ul>
                                        <li ng-repeat="disk in data.disks">
                                            <span>
												<div class="am-dropdown" style="cursor: pointer" ng-mouseover="showMountDetail[$index] = true"
                                                ng-mouseleave="showMountDetail[$index] = false" data-am-dropdown="{boundary: '#server_statics'}">
													{{disk.percent}}
													<div class="am-dropdown-content_l" ng-show="showMountDetail[$index]" style="display: block;margin-top: 0;">
														<table class="am-table am-text-nowrap am-table-compact">
															<thead>
																<th>TOTAL</th>
																<th>AVAILABLE</th>
															</thead>
															<tbody>
																<tr>
																	<td>{{disk.total | KB2}}</td>
																	<td>{{disk.available | KB2}}</td>
																</tr>
															</tbody>
														</table>
													</div>
												</div>
											</span>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <hr/>
                </div>
            </div>
        </div>
    </div>

    <div class="tpl-portlet-components" ng-controller="sysStaticsControl">
        <div class="portlet-title">
            <div class="caption font-green bold">
                <span ng-click="sysShowDetail = !sysShowDetail;" style="cursor: pointer">状态信息 - 系统 <i ng-class="{true: 'am-icon-angle-double-up am-icon-sm', false: 'am-icon-angle-double-down am-icon-sm'}[sysShowDetail]"></i></span>
            </div>
            <div class="font-green bold am-fr">
                <span class="am-icon-refresh" ng-show="!checking" ng-click="checkProc()" style="cursor: pointer"></span>
                <span class="am-icon-refresh am-icon-spin" ng-show="checking"></span>
            </div>
        </div>
        <div class="tpl-block" ng-show="sysShowDetail">
            <div class="am-g">
                <div class="am-u-sm-12" ng-repeat="data in systemStatics">
                    <span class="am-icon-angle-double-right" style="font-size: 12pt; font-weight: bold; color: rgb(147, 162, 169); hover: pointer"> 子系统名称 ： {{::data.name}}</span>
                    <table class="am-table am-table-hover table-main">
                        <thead>
                            <tr>
                                <th>进程名</th>
                                <th>进程号</th>
                                <th>角色</th>
                                <th>CPU%</th>
                                <th>MEM%</th>
                                <th>RSS</th>
                                <th>启动日期</th>
                                <th>运行时间</th>
                                <th>进程状态</th>
                                <th>服务器名</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="child in data.detail" ng-class="{true: 'am-danger', false: ''}[child.status.stat=='stopped']">
                                <td class="table-data">{{::child.process}}</td>
                                <td class="table-data">{{::child.status.pid}}</td>
                                <td class="table-data">{{::child.proc_role}}</td>
                                <td class="table-data">{{child.status.cpu}}</td>
                                <td class="table-data">{{child.status.mem}}</td>
                                <td class="table-data">{{child.status.rss | KB2}}</td>
                                <td class="table-data">{{::child.status.start}}</td>
                                <td class="table-data">{{child.status.time}}</td>
                                <td class="table-status">{{child.status.stat | status}}</td>
                                <td class="table-data">{{::child.server}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <hr/>
                </div>
            </div>
        </div>
    </div>

    <div class="tpl-portlet-components" ng-controller="loginStaticsControl" ng-show="loginStaticsShow">
        <div class="portlet-title">
            <div class="caption font-green bold">
                <span ng-click="loginShowDetail = !loginShowDetail;" style="cursor: pointer">状态信息 - 账号连接 <i ng-class="{true: 'am-icon-angle-double-up am-icon-sm', false: 'am-icon-angle-double-down am-icon-sm'}[loginShowDetail]"></i></span>
            </div>
            <div class="font-green bold am-fr">
                <span class="am-icon-refresh" ng-show="!checking" ng-click="CheckLoginLog()" style="cursor: pointer"></span>
                <span class="am-icon-refresh am-icon-spin" ng-show="checking"></span>
            </div>
        </div>
        <div class="tpl-block" ng-show="loginShowDetail">
            <div class="am-g">
                <div class="am-u-sm-12">
                    <table class="am-table am-table-hover table-main">
                        <thead>
                            <tr>
                                <th>上联系统</th>
                                <th>交易日</th>
                                <th>连接地址</th>
                                <th>登录账户</th>
                                <th>连接状态</th>
                                <th>重连次数</th>
                                <th>成功</th>
                                <th>失败</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-class="{'未连接': 'am-disabled', '登录成功': 'am-success', '连接成功': 'am-primary', '登录失败': 'am-warning', '连接断开': 'am-danger'}[loginStatics[$index].seat_status]" ng-repeat="data in loginStatics track by $index">
                                <td>{{::data.seat_name}}</td>
                                <td>{{::data.trading_day}}</td>
                                <td>{{::data.front_addr}}</td>
                                <td>{{::data.seat_id | mask}}</td>
                                <td>{{data.seat_status}}</td>
                                <td>{{data.conn_count - (data.conn_count - data.disconn_count)}}</td>
                                <td>{{data.login_success}}</td>
                                <td>{{data.login_fail}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <hr/>
                </div>
            </div>
        </div>
    </div>

    <div class="tpl-portlet-components" ng-controller="clientStaticsControl" ng-show="userSessionShow">
        <div class="portlet-title">
            <div class="caption font-green bold">
                <span ng-click="clientShowDetail = !clientShowDetail;" style="cursor: pointer">状态信息-客户端连接 <i ng-class="{true: 'am-icon-angle-double-up am-icon-sm', false: 'am-icon-angle-double-down am-icon-sm'}[clientShowDetail]"></i></span>
            </div>
        </div>
        <div class="tpl-block" ng-show="clientShowDetail">
            <div class="am-g">
                <div class="am-u-sm-12">
                    <table class="am-table am-table-hover table-main">
                        <thead>
                            <tr>
								<th class="table-data">经纪公司代码</th>
                                <th class="table-data">交易用户代码</th>
                                <th class="table-data">交易用户类型</th>
                                <th class="table-data">会话编号</th>
                                <th class="table-data">前置编号</th>
                                <th class="table-data">登录时间</th>
                                <th class="table-data">IP地址</th>
                                <th class="table-data">MAC地址</th>
								<th class="table-data">用户端产品信息</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in statusList">
                                <td>{{data.broker_id}}</td>
                                <td>{{data.user_id}}</td>
                                <td>{{data.session_id}}</td>
                                <td>{{data.front_id}}</td>
                                <td>{{data.login_time}}</td>
                                <td>{{data.ip_address}}</td>
                                <td>{{data.mac_address}}</td>
								<td>{{data.prod_info}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <hr/>
                </div>
            </div>
        </div>
    </div>
</div>