<div class="row" ng-controller="optionResultControl" style="margin-top: -1px;">
	<div class="tpl-portlet-components">
		<div class="portlet-title">
			<div class="caption font-green bold">
				操作结果展示
			</div>
			<div class="bold am-fr">
				<div class="am-form-group am-form-icon">
					<i class="am-icon-search" style="display: block"></i>
					<input type="text" class="am-form-field" ng-model="keyword" placeholder="输入以过滤" style="padding-left: 30px!important">
				</div>
			</div>
		</div>
		<div class="tpl-block">
			<div class="am-g">
				<div class="am-u-sm-12">
					<table class="am-table am-table-hover table-main">
						<thead>
							<tr>
								<th>授权时间</th>
								<th>授权人</th>
								<th>执行时间</th>
								<th>操作者</th>
								<th>操作结果</th>
							</tr>
						</thead>
						<tbody>
							<!--<tr ng-repeat="data in opList.details track by $index">-->
							<tr ng-click="recordsIndex($index)" ng-repeat="data in operationRecordsData | filter: keyword | paging:currentPage*listsPerPage | limitTo:listsPerPage track by $index">
								
								<td>{{data.authorized_at}}</td>
								<td>{{data.authorizer}}</td>
								<td>{{data.operated_at}}</td>
								<td>{{data.operator}}</td>
								<td ng-repeat="result in data.operation_results">
									<div class="am-btn-group am-btn-group-xs">
										<button class="am-btn am-btn-default am-btn-xs am-text-secondary am-margin-right-xs" ng-click="show_result($index)">
                                            <span class="am-icon-pencil-square-o"></span> 查看结果
                                        </button>
									</div>
									<div class="am-modal am-modal-alert" tabindex="-1" id="{{'op_result' + $index}}">
										<div class="am-modal-dialog">
											<div class="am-modal-hd">操作输出</div>
											<div class="am-modal-bd">
												<span class="">
                                                    由 {{data.operator}} 于 {{data.operated_at}} 操作
                                                    <span class="am-text-danger" ng-show="result.error_code!=0">{{result.error_code | exe_result}}</span>

												</span>
												<ul class="am-list am-list-static">
													<li style="text-align: left; padding: 0px 5px; overflow-x: auto" ng-repeat="line in result.detail track by $index">
														<span class="am-icon-terminal am-icon-sm am-monospace" style="white-space: pre; margin-left: 5px; margin-right: 5px"> {{line}}</span>
													</li>
												</ul>
												<span ng-if="result.detail.length == 0 || result.detail == null">无操作回显。</span>
											</div>
											<div class="am-modal-footer">
												<span class="am-modal-btn">确定</span>
											</div>
										</div>
									</div>
								</td>
								<td>
									<ul>
										<li>
											<div>sss</div>
										</li>
										<li>
											<div>sss</div>
										</li>
										<li>
											<div>sss</div>
										</li>
									</ul>
									<!--<div class="am-btn-group am-btn-group-xs">
										<button class="am-btn am-btn-default am-btn-xs am-text-secondary am-margin-right-xs" ng-click="show_result($index)">
                                            <span class="am-icon-pencil-square-o"></span> 查看结果
                                        </button>
									</div>
									<div class="am-modal am-modal-alert" tabindex="-1" id="{{'op_result' + $index}}">
										<div class="am-modal-dialog">
											<div class="am-modal-hd">操作输出</div>
											<div class="am-modal-bd">
												<span class="">
                                                    由 {{data.operator}} 于 {{data.operated_at}} 操作
                                                    <span class="am-text-danger" ng-show="data.operation_results[0].error_code!=0">{{data.operation_results[0].error_code | exe_result}}</span>

												</span>
												<ul class="am-list am-list-static">
													<li style="text-align: left; padding: 0px 5px; overflow-x: auto" ng-repeat="line in data.operation_results[0].detail track by $index">
														<span class="am-icon-terminal am-icon-sm am-monospace" style="white-space: pre; margin-left: 5px; margin-right: 5px"> {{line}}</span>
													</li>
												</ul>
												<span ng-if="data.operation_results[0].detail.length == 0 || data.operation_results[0].detail == null">无操作回显。</span>
											</div>
											<div class="am-modal-footer">
												<span class="am-modal-btn">确定</span>
											</div>
										</div>
										
									</div>-->
								</td>
							</tr>
							
						</tbody>
					</table>
					<hr/>
					<ul class="am-pagination am-pagination-right" style="font-size: 13px;">
						<li>
							<a ng-click="prePage()">&laquo;</a>
						</li>
						<li ng-class="{true:'am-active',false:''}[currentPage == page]" ng-repeat="page in pagesNum">
							<a ng-click="setPages(page)">{{page + 1}}</a>
						</li>
						<li >
							<a ng-click="nextPage()">&raquo;</a>
						</li>
					</ul>
				</div>

			</div>
		</div>
	</div>
</div>