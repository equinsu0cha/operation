<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="zh-CN" />
    <title>实时消息</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="term.js"></script>
    <script type="text/javascript" src="wssh.js"></script>
    <script type="text/javascript" charset="utf-8">
        function openTerminal(options) {
            var client = new WSSHClient();
            var term = new Terminal(80, 24, function(key) {
                client.send(key);
            });
            term.open();
            $('.terminal').detach().appendTo('#term');
            term.resize(80, 24);
            term.write('Connecting...');
            client.connect($.extend(options, {
                onError: function(error) {
                    term.write('Error: ' + error + '\r\n');
                },
                onConnect: function() {
                    // Erase our connecting message
                    term.write('\r');
                },
                onClose: function() {
                    term.write('Connection Reset By Peer');
                },
                onData: function(data) {
                    term.write(data);
                }
            }));
        }
        $(document).ready(function() {
            openTerminal({
                host: 'localhost',
                port: 5000
            });
        });
    </script>
</head>

<body>
    <div class="header container">
        <h1>实时消息</h1>
        <ul class="tabs">
            <li class="active">
                <a href="/">DEMO</a>
            </li>
        </ul>
    </div>
    <div class="container"> Pls check your Chrome console.
        <div class="span10">
            <div class="clearfix">
                <label for="chat_content">消息</label>
                <div id="term"></div>
            </div>
            <!--
                <div class="well align-center">
                    <input type="submit" class="btn primary" value="发布" /> &nbsp;
                    <input type="reset" class="btn" value="清空" />
                </div>
				-->
        </div>
    </div>
    <div class="footer container">
        <p> &copy; Copyright by shonenada </p>
    </div>
</body>

</html>